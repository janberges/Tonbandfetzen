# Tonbandfetzen

Tonbandfetzen is a collection of command-line tools that allow you to compose
music based on audio fragments generated from plain text input. It contains:

* `mel` - generate sound fragments from plain text
* `guitar` - read guitar tablature
* `stick` - concatenate audio data
* `stack` - superimpose audio data
* `stretch` - rescale audio data
* `repeat` - loop audio data
* `harmonics` - show spectra of wave samples
* `inspect` - show information on audio file
* `riff2aiff` - convert .wav(e) into .aif(f) files
* `aiff2riff` - convert .aif(f) into .wav(e) files

## Usage

Different task are spread across separate executables, which communicate via
files in the Waveform Audio File Format (.wav). Hence, the composition process
can be controlled using build-automation software, allowing for partial updates
and parallel execution (-j).

At the heart of this toolbox, the program `mel` converts text into audio:

    echo "M0C4'1W0+4'1W0+7'1" | mel | aplay

## Installation

You will need a recent version of the GNU Fortran compiler. For some parts,
Python (guitar tablatures) and eSpeak (example) are required additionally.
Using APT, these prerequisites be installed as follows:

    sudo apt install gfortran python3 espeak

To compile the binaries, you can use the provided makefile:

    cd /path/to/tonbandfetzen
    make FC=gfortran FFLAGS=-O3

To make the tools and documentation accessible, consider adding the following
lines to your .bashrc:

    REPO=/path/to/tonbandfetzen
    export PATH=$REPO/bin:$PATH
    export PERL5LIB=$REPO/perl:$PERL5LIB
    export MANPATH=$REPO/doc:$MANPATH
    export MANPATH=$REPO/doc/man1:$MANPATH

## Documentation

Please have a look at the examples. For example:

    cd examples/freedom
    make -j 2
    aplay freedom.wav

There is also a man page for each tool. For example:

    man doc/man1/mel.1
